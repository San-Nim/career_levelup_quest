<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Career Level-Up Quest ðŸŽ®</title>
  <meta name="description" content="Gamified learning tracker for courses, XP, and career development">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script>
    window.react = window.React;
    window['react-dom'] = window.ReactDOM;
  </script>
  <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.min.js"></script>

  <script type="text/babel">
    const { Trophy, Flame, Star, Target, Award, Zap, Brain, Rocket, UserPlus, LogOut, Users } = LucideReact;

    const ADHDLearningTracker = () => {
      const [currentUser, setCurrentUser] = React.useState(null);
      const [showLogin, setShowLogin] = React.useState(true);
      const [username, setUsername] = React.useState('');
      const [leaderboard, setLeaderboard] = React.useState([]);

      const defaultCourses = [
        {
          id: 1,
          name: "MLOps Specialization",
          platform: "Coursera",
          weeks: 8,
          hoursPerWeek: 5,
          priority: "CRITICAL",
          xpValue: 500,
          modules: [
            { name: "Introduction to ML in Production", completed: false, xp: 100 },
            { name: "ML Data Lifecycle", completed: false, xp: 100 },
            { name: "ML Modeling Pipelines", completed: false, xp: 100 },
            { name: "Deploying ML Models", completed: false, xp: 100 },
            { name: "ML Operations", completed: false, xp: 100 }
          ],
          deadline: "2026-03-21",
          started: false,
          completed: false
        },
        {
          id: 2,
          name: "AWS Cloud Practitioner",
          platform: "Coursera/AWS",
          weeks: 4,
          hoursPerWeek: 6,
          priority: "CRITICAL",
          xpValue: 400,
          modules: [
            { name: "Cloud Concepts", completed: false, xp: 100 },
            { name: "AWS Services", completed: false, xp: 100 },
            { name: "Security & Compliance", completed: false, xp: 100 },
            { name: "Pricing & Support", completed: false, xp: 100 }
          ],
          deadline: "2026-02-21",
          started: false,
          completed: false
        },
        {
          id: 3,
          name: "Deep Learning Specialization",
          platform: "Coursera",
          weeks: 12,
          hoursPerWeek: 5,
          priority: "HIGH",
          xpValue: 600,
          modules: [
            { name: "Neural Networks Basics", completed: false, xp: 100 },
            { name: "Improving Deep NNs", completed: false, xp: 100 },
            { name: "ML Projects", completed: false, xp: 100 },
            { name: "CNNs", completed: false, xp: 100 },
            { name: "Sequence Models", completed: false, xp: 150 },
            { name: "Transformers", completed: false, xp: 150 }
          ],
          deadline: "2026-04-21",
          started: false,
          completed: false
        },
        {
          id: 4,
          name: "NLP Specialization",
          platform: "Coursera",
          weeks: 10,
          hoursPerWeek: 5,
          priority: "HIGH",
          xpValue: 550,
          modules: [
            { name: "NLP with Classification", completed: false, xp: 110 },
            { name: "NLP with Probabilistic Models", completed: false, xp: 110 },
            { name: "NLP with Sequence Models", completed: false, xp: 110 },
            { name: "NLP with Attention Models", completed: false, xp: 110 },
            { name: "Advanced BERT Applications", completed: false, xp: 110 }
          ],
          deadline: "2026-05-01",
          started: false,
          completed: false
        }
      ];

      const defaultBonusChallenges = [
        { id: 1, name: "GitHub README Polish", xp: 150, completed: false, type: "PROJECT" },
        { id: 2, name: "Write Technical Blog Post #1", xp: 200, completed: false, type: "WRITING" },
        { id: 3, name: "Kaggle Competition Entry", xp: 300, completed: false, type: "COMPETITION" },
        { id: 4, name: "LinkedIn Profile Update", xp: 100, completed: false, type: "CAREER" },
        { id: 5, name: "Research Paper Documentation", xp: 250, completed: false, type: "PROJECT" }
      ];

      const defaultDailyTasks = [
        { id: 1, name: "Study Session (1hr+)", completed: false, xp: 50 },
        { id: 2, name: "Code Practice (30min)", completed: false, xp: 30 },
        { id: 3, name: "Review Notes", completed: false, xp: 20 }
      ];

      const [courses, setCourses] = React.useState(defaultCourses);
      const [bonusChallenges, setBonusChallenges] = React.useState(defaultBonusChallenges);
      const [dailyTasks, setDailyTasks] = React.useState(defaultDailyTasks);
      const [stats, setStats] = React.useState({
        totalXP: 0,
        level: 1,
        streak: 0,
        lastActive: null,
        achievements: []
      });

      React.useEffect(() => {
        const loadUserData = async () => {
          if (!currentUser) return;

          try {
            const coursesResult = window.localStorage.getItem(`${currentUser}-courses`);
            if (coursesResult) setCourses(JSON.parse(coursesResult));

            const bonusResult = window.localStorage.getItem(`${currentUser}-bonus`);
            if (bonusResult) setBonusChallenges(JSON.parse(bonusResult));

            const dailyResult = window.localStorage.getItem(`${currentUser}-daily`);
            if (dailyResult) setDailyTasks(JSON.parse(dailyResult));

            const statsResult = window.localStorage.getItem(`${currentUser}-stats`);
            if (statsResult) setStats(JSON.parse(statsResult));
          } catch (error) {
            console.log('First time user, using defaults');
          }
        };

        loadUserData();
        loadLeaderboard();
      }, [currentUser]);

      React.useEffect(() => {
        const saveUserData = async () => {
          if (!currentUser) return;

          try {
            window.localStorage.setItem(`${currentUser}-courses`, JSON.stringify(courses));
            window.localStorage.setItem(`${currentUser}-bonus`, JSON.stringify(bonusChallenges));
            window.localStorage.setItem(`${currentUser}-daily`, JSON.stringify(dailyTasks));
            window.localStorage.setItem(`${currentUser}-stats`, JSON.stringify(stats));

            window.localStorage.setItem(`leaderboard-${currentUser}`, JSON.stringify({
              username: currentUser,
              totalXP: stats.totalXP,
              level: stats.level,
              streak: stats.streak
            }));

            loadLeaderboard();
          } catch (error) {
            console.error('Error saving data:', error);
          }
        };

        if (currentUser) saveUserData();
      }, [courses, bonusChallenges, dailyTasks, stats, currentUser]);

      const loadLeaderboard = async () => {
        try {
          const keys = Object.keys(window.localStorage).filter(key => key.startsWith('leaderboard-'));
          if (keys.length > 0) {
            const leaderboardData = [];
            for (const key of keys) {
              try {
                const userData = window.localStorage.getItem(key);
                if (userData) leaderboardData.push(JSON.parse(userData));
              } catch (error) {
                console.error('Error loading user data:', error);
              }
            }
            leaderboardData.sort((a, b) => b.totalXP - a.totalXP);
            setLeaderboard(leaderboardData.slice(0, 10));
          }
        } catch (error) {
          console.error('Error loading leaderboard:', error);
        }
      };

      const handleLogin = () => {
        if (username.trim()) {
          setCurrentUser(username.trim());
          setShowLogin(false);
        }
      };

      const handleLogout = () => {
        setCurrentUser(null);
        setShowLogin(true);
        setUsername('');
        setCourses(defaultCourses);
        setBonusChallenges(defaultBonusChallenges);
        setDailyTasks(defaultDailyTasks);
        setStats({
          totalXP: 0,
          level: 1,
          streak: 0,
          lastActive: null,
          achievements: []
        });
      };

      const calculateLevel = (xp) => Math.floor(xp / 500) + 1;
      const calculateXPToNextLevel = (xp) => (calculateLevel(xp) * 500) - xp;

      const toggleModuleComplete = (courseId, moduleIndex) => {
        setCourses(prevCourses => {
          const updatedCourses = prevCourses.map(course => {
            if (course.id === courseId) {
              const updatedModules = [...course.modules];
              const module = updatedModules[moduleIndex];
              module.completed = !module.completed;

              const xpChange = module.completed ? module.xp : -module.xp;

              setStats(prev => ({
                ...prev,
                totalXP: Math.max(0, prev.totalXP + xpChange),
                level: calculateLevel(Math.max(0, prev.totalXP + xpChange))
              }));

              const allComplete = updatedModules.every(m => m.completed);
              return { ...course, modules: updatedModules, completed: allComplete, started: true };
            }
            return course;
          });
          return updatedCourses;
        });
      };

      const toggleBonusChallenge = (challengeId) => {
        setBonusChallenges(prev => prev.map(challenge => {
          if (challenge.id === challengeId) {
            const newCompleted = !challenge.completed;
            const xpChange = newCompleted ? challenge.xp : -challenge.xp;

            setStats(prevStats => ({
              ...prevStats,
              totalXP: Math.max(0, prevStats.totalXP + xpChange),
              level: calculateLevel(Math.max(0, prevStats.totalXP + xpChange))
            }));

            return { ...challenge, completed: newCompleted };
          }
          return challenge;
        }));
      };

      const toggleDailyTask = (taskId) => {
        setDailyTasks(prev => prev.map(task => {
          if (task.id === taskId) {
            const newCompleted = !task.completed;
            const xpChange = newCompleted ? task.xp : -task.xp;

            setStats(prevStats => ({
              ...prevStats,
              totalXP: Math.max(0, prevStats.totalXP + xpChange),
              level: calculateLevel(Math.max(0, prevStats.totalXP + xpChange)),
              streak: newCompleted ? prevStats.streak + 1 : Math.max(0, prevStats.streak - 1)
            }));

            return { ...task, completed: newCompleted };
          }
          return task;
        }));
      };

      const getPriorityColor = (priority) => {
        switch (priority) {
          case "CRITICAL": return "bg-red-100 text-red-800 border-red-300";
          case "HIGH": return "bg-orange-100 text-orange-800 border-orange-300";
          case "MEDIUM": return "bg-yellow-100 text-yellow-800 border-yellow-300";
          default: return "bg-gray-100 text-gray-800 border-gray-300";
        }
      };

      const getProgressColor = (percentage) => {
        if (percentage >= 75) return "bg-green-500";
        if (percentage >= 50) return "bg-blue-500";
        if (percentage >= 25) return "bg-yellow-500";
        return "bg-red-500";
      };

      if (showLogin) {
        return React.createElement('div', {
          className: "min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50 flex items-center justify-center p-6"
        }, React.createElement('div', {
          className: "bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full border-4 border-purple-200"
        },
          React.createElement('div', { className: "text-center mb-8" },
            React.createElement('div', { className: "text-6xl mb-4" }, 'ðŸŽ®'),
            React.createElement('h1', {
              className: "text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2"
            }, 'Career Level-Up Quest'),
            React.createElement('p', { className: "text-gray-600" }, 'Join your friends and level up together!')
          ),
          React.createElement('div', { className: "space-y-4" },
            React.createElement('div', {},
              React.createElement('label', { className: "block text-sm font-semibold mb-2 text-gray-700" },
                'Choose Your Username'
              ),
              React.createElement('input', {
                type: "text",
                value: username,
                onChange: (e) => setUsername(e.target.value),
                onKeyPress: (e) => e.key === 'Enter' && handleLogin(),
                placeholder: "Enter username...",
                className: "w-full px-4 py-3 border-2 border-purple-300 rounded-xl focus:border-purple-500 focus:outline-none text-lg"
              })
            ),
            React.createElement('button', {
              onClick: handleLogin,
              disabled: !username.trim(),
              className: "w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl font-bold text-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
            },
              React.createElement(UserPlus, { className: "w-5 h-5" }),
              'Start Your Quest'
            )
          )
        ));
      }

      return (
        <div className="min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50 p-6">
          <div className="max-w-7xl mx-auto">
            {/* Header Stats */}
            <div className="bg-white rounded-2xl shadow-xl p-6 mb-6 border-4 border-purple-200">
              <div className="flex items-center justify-between mb-4">
                <h1 className="text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                  ðŸŽ® Career Level-Up Quest - {currentUser}
                </h1>
                <button
                  onClick={handleLogout}
                  className="flex items-center gap-2 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-full cursor-pointer transition-colors"
                >
                  <LogOut className="w-4 h-4" />
                  Logout
                </button>
              </div>
              <div className="text-2xl font-bold text-center py-8 flex flex-col md:flex-row justify-center items-center gap-4 text-gray-700">
                <span className="flex items-center gap-2"><Trophy className="w-8 h-8 text-yellow-500" /> Level {stats.level}</span>
                <span className="hidden md:inline text-gray-300">|</span>
                <span className="flex items-center gap-2"><Star className="w-8 h-8 text-purple-500" /> {stats.totalXP} XP</span>
                <span className="hidden md:inline text-gray-300">|</span>
                <span className="flex items-center gap-2"><Flame className="w-8 h-8 text-orange-500" /> {stats.streak} Day Streak</span>
              </div>
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
              {/* Left Column: Courses */}
              <div className="lg:col-span-2 space-y-6">
                <h2 className="text-2xl font-bold flex items-center gap-2 text-gray-800">
                  <Brain className="w-6 h-6 text-purple-600" />
                  Active Learning Quests
                </h2>

                {courses.map(course => {
                  const completedModules = course.modules.filter(m => m.completed).length;
                  const progress = (completedModules / course.modules.length) * 100;

                  return (
                    <div key={course.id} className="bg-white rounded-xl shadow-lg border-2 border-purple-100 overflow-hidden hover:shadow-xl transition-all duration-300">
                      <div className="p-6 border-b border-purple-100 bg-purple-50/30">
                        <div className="flex justify-between items-start mb-4">
                          <div>
                            <h3 className="text-xl font-bold text-gray-800">{course.name}</h3>
                            <div className="flex items-center gap-2 text-sm text-gray-500 mt-1">
                              <span className="flex items-center gap-1"><Target className="w-3 h-3" /> {course.platform}</span>
                              <span>â€¢</span>
                              <span>{course.weeks} weeks</span>
                            </div>
                          </div>
                          <span className={`px-3 py-1 rounded-full text-xs font-bold ${getPriorityColor(course.priority)}`}>
                            {course.priority}
                          </span>
                        </div>

                        {/* Progress Bar */}
                        <div className="space-y-2">
                          <div className="flex justify-between text-sm font-medium text-gray-600">
                            <span>Quest Progress</span>
                            <span>{Math.round(progress)}%</span>
                          </div>
                          <div className="h-3 bg-gray-200 rounded-full overflow-hidden">
                            <div
                              className={`h-full transition-all duration-500 ease-out ${getProgressColor(progress)}`}
                              style={{ width: `${progress}%` }}
                            />
                          </div>
                        </div>
                      </div>

                      {/* Modules */}
                      <div className="p-4 grid gap-3">
                        {course.modules.map((module, idx) => (
                          <button
                            key={idx}
                            onClick={() => toggleModuleComplete(course.id, idx)}
                            className={`w-full p-4 rounded-lg text-left transition-all flex items-center justify-between group cursor-pointer ${module.completed
                                ? 'bg-green-50 border-2 border-green-200 shadow-sm'
                                : 'bg-gray-50 hover:bg-purple-50 border-2 border-transparent hover:border-purple-200'
                              }`}
                          >
                            <div className="flex items-center gap-3">
                              <div className={`w-6 h-6 rounded-full flex items-center justify-center border-2 transition-colors ${module.completed
                                  ? 'bg-green-500 border-green-500 text-white'
                                  : 'border-gray-300 group-hover:border-purple-400'
                                }`}>
                                {module.completed && <Award className="w-3 h-3" />}
                              </div>
                              <span className={`font-medium ${module.completed ? 'text-green-800 line-through opacity-70' : 'text-gray-700'}`}>
                                {module.name}
                              </span>
                            </div>
                            <span className="text-xs font-bold text-purple-600 bg-purple-100 px-2 py-1 rounded">
                              +{module.xp} XP
                            </span>
                          </button>
                        ))}
                      </div>
                    </div>
                  );
                })}
              </div>

              {/* Right Column: Sidebar */}
              <div className="space-y-8">
                {/* Daily Tasks */}
                <div className="bg-white rounded-2xl shadow-xl p-6 border-2 border-blue-100">
                  <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-gray-800">
                    <Zap className="w-5 h-5 text-yellow-500" /> Daily Dailies
                  </h2>
                  <div className="space-y-3">
                    {dailyTasks.map(task => (
                      <button
                        key={task.id}
                        onClick={() => toggleDailyTask(task.id)}
                        className={`w-full p-3 rounded-xl flex items-center justify-between transition-all cursor-pointer ${task.completed
                            ? 'bg-blue-50 border border-blue-200'
                            : 'bg-gray-50 hover:bg-blue-50 border border-transparent'
                          }`}
                      >
                        <span className={task.completed ? 'line-through text-gray-400' : 'text-gray-700 font-medium'}>
                          {task.name}
                        </span>
                        <span className="text-xs font-bold text-blue-600">+{task.xp} XP</span>
                      </button>
                    ))}
                  </div>
                </div>

                {/* Bonus Challenges */}
                <div className="bg-white rounded-2xl shadow-xl p-6 border-2 border-pink-100">
                  <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-gray-800">
                    <Rocket className="w-5 h-5 text-pink-500" /> Side Quests
                  </h2>
                  <div className="space-y-3">
                    {bonusChallenges.map(challenge => (
                      <button
                        key={challenge.id}
                        onClick={() => toggleBonusChallenge(challenge.id)}
                        className={`w-full p-3 rounded-xl flex items-center justify-between transition-all cursor-pointer ${challenge.completed
                            ? 'bg-pink-50 border border-pink-200'
                            : 'bg-gray-50 hover:bg-pink-50 border border-transparent'
                          }`}
                      >
                        <div className="text-left">
                          <div className={`font-medium text-sm ${challenge.completed ? 'line-through text-gray-400' : 'text-gray-700'}`}>
                            {challenge.name}
                          </div>
                          <div className="text-xs text-gray-400 mt-1">{challenge.type}</div>
                        </div>
                        <span className="text-xs font-bold text-pink-600">+{challenge.xp} XP</span>
                      </button>
                    ))}
                  </div>
                </div>

                {/* Leaderboard */}
                <div className="bg-white rounded-2xl shadow-xl p-6 border-2 border-yellow-100">
                  <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-gray-800">
                    <Users className="w-5 h-5 text-yellow-600" /> Guild Hall
                  </h2>
                  <div className="space-y-4">
                    {leaderboard.length === 0 ? (
                      <p className="text-gray-500 text-center italic">Be the first to join!</p>
                    ) : (
                      leaderboard.map((user, index) => (
                        <div key={index} className="flex items-center justify-between p-2 rounded-lg hover:bg-gray-50">
                          <div className="flex items-center gap-3">
                            <span className={`w-6 h-6 flex items-center justify-center rounded-full font-bold text-xs ${index === 0 ? 'bg-yellow-100 text-yellow-700' :
                                index === 1 ? 'bg-gray-100 text-gray-700' :
                                  index === 2 ? 'bg-orange-100 text-orange-700' : 'text-gray-500'
                              }`}>
                              #{index + 1}
                            </span>
                            <span className={user.username === currentUser ? 'font-bold text-purple-600' : 'text-gray-700'}>
                              {user.username}
                            </span>
                          </div>
                          <div className="text-sm font-bold text-gray-600">{user.totalXP} XP</div>
                        </div>
                      ))
                    )}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(ADHDLearningTracker));
  </script>
</body>

</html>